{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,kBAElCC,EAAY,GAS0EH,EAAnFI,iBAAiB,SAAQ,SAACC,GAC/BA,EAAMC,iBACNH,EAAUI,MAAQF,EAAMG,cAAcD,MAAME,MAC5CN,EAAUO,QAAUL,EAAMG,cAAcE,QAAQD,K,IAUF,IAAzCE,GAAyB,EAAAb,EAAAc,WAnBX,WACnBC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUb,G,GAkBL,IAExDH,EAAOI,iBAAiB,QAASO,GAKjC,WACE,IAAMM,EAAYjB,EAAOE,cAAc,4BACjCgB,EAAUlB,EAAOE,cAAc,uBAE/BiB,EAAeJ,KAAKK,MAAMP,aAAaQ,QAAQ,yBAA2B,GAE5EH,IACFA,EAAQT,MAAQU,EAAaZ,OAAS,IAGpCU,IACFA,EAAUR,MAAQU,EAAaT,SAAW,G,CAbPY,GAyBvCtB,EAAOI,iBAAiB,UAPxB,SAAoBC,GAClBA,EAAMC,iBACNiB,QAAQC,IAAIrB,GACZU,aAAaY,WAAW,uBACxBzB,EAAO0B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\n\nlet valueForm = {};\n\n// функція оновлення даних\nfunction updateStorage() {\n  localStorage.setItem('feedback-form-state', JSON.stringify(valueForm));\n}\n\n\n// відслідковування заповнення полів і запис в сховище якщо швидко писати текст невстигне відслідкуватись\nformEl.addEventListener('input',(event) => {\n  event.preventDefault();\n  valueForm.email = event.currentTarget.email.value;\n  valueForm.message = event.currentTarget.message.value;\n});\n\n//  чому цей метод спрацьовує тільки після додавання попередніх даних, і перестає працювати після перезавантаження Цей метод не працює, коли сторінка відкривається вперше або якщо локальне сховище браузера порожнє. При першому відкритті сторінки метод JSON.parse(localStorage.getItem('feedback-form-state')) повертає null, оскільки у сховищі немає збережених значень форми. Отже, спроба отримати властивість message та email з null призведе до помилки. \n// function updateForm() {\n//   formEl.elements.message.value = JSON.parse(localStorage.getItem('feedback-form-state')).message ||'';\n//   formEl.elements.email.value = JSON.parse(localStorage.getItem('feedback-form-state')).email;\n// }\n\n// оновлювати сховище значень не частіше, ніж раз на 0.5 секунд\n const throttledUpdateStorage = throttle(updateStorage, 50);\n\nformEl.addEventListener('input', throttledUpdateStorage);\n\n// Функція оновлення форми зі значень зі сховища\nupdateForm();\n\nfunction updateForm() {\n  const messageEl = formEl.querySelector('textarea[name=\"message\"]');\n  const emailEl = formEl.querySelector('input[name=\"email\"]');\n\n  const storedValues = JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n\n  if (emailEl) {\n    emailEl.value = storedValues.email || '';\n  }\n\n  if (messageEl) {\n    messageEl.value = storedValues.message || '';\n  }\n}\n\n//  Функція очищення форми і сховища після сабміту\nfunction submitForm(event) {\n  event.preventDefault();\n  console.log(valueForm);\n  localStorage.removeItem('feedback-form-state');\n  formEl.reset();\n}\n\nformEl.addEventListener('submit', (submitForm));\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$valueForm","addEventListener","event","preventDefault","email","currentTarget","value","message","$b00c40859be242c5$var$throttledUpdateStorage","throttle","localStorage","setItem","JSON","stringify","messageEl","emailEl","storedValues","parse","getItem","$b00c40859be242c5$var$updateForm","console","log","removeItem","reset"],"version":3,"file":"03-feedback.79df72d5.js.map"}